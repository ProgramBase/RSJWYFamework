<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      defaultMinLevel="warn">
    <targets>
        <default-wrapper xsi:type="AsyncWrapper"></default-wrapper>
        <!--https://github.com/NLog/NLog/wiki/JsonLayout-->
        <target name="UnityLogFile" xsi:type="File" 
                fileName="${basedir}/Logs/$info-{shortdate}-{#}.json"
                archiveAboveSize="102400"
                archiveNumbering="Sequence"
                MaxArchiveFiles="10">
            <layout xsi:type="JsonLayout" excludeProperties="Comma-separated list (string)" indentJson ="true"  >
                <attribute name="time" layout="${longdate}" />
                <attribute name="level" layout="${level:upperCase=true}"/>
                <attribute name="message" layout="${message}" />
                <attribute name="StackTrace" layout="${stacktrace:format=Enum:topFrames=10:skipFrames=1:separator=&#13;&#10}"/>
            </layout>
        </target>
        <target name="RSJWYFameworkFile" xsi:type="File"
                fileName="${basedir}/Logs/$warring-{shortdate}-{#}.json"
                archiveAboveSize="102400"
                archiveNumbering="Sequence"
                MaxArchiveFiles="10">
            <layout xsi:type="JsonLayout" excludeProperties="Comma-separated list (string)" indentJson ="true"  >
                <attribute name="time" layout="${longdate}" />
                <attribute name="level" layout="${level:upperCase=true}"/>
                <attribute name="message" layout="${message}" />
                <attribute name="StackTrace" layout="${stacktrace:format=Enum:topFrames=10:skipFrames=1:separator=&#13;&#10}"/>
            </layout>
        </target>
    </targets>
    <rules>
        <logger name="UnityLog" writeTo="UnityLogFile" />
        <logger name="RSJWYFamework" writeTo="RSJWYFameworkFile" />
    </rules>
</nlog>
